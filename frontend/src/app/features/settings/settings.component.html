<!-- Portalcrane - Settings Template -->
<div class="p-4">
  <h2 class="fw-bold mb-1">Settings</h2>
  <p class="text-muted small mb-4">Application preferences and configuration</p>

  <!-- ‚îÄ‚îÄ Tab nav ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <ul class="nav nav-tabs mb-4">
    <li class="nav-item">
      <button
        class="nav-link"
        [class.active]="activeTab() === 'appearance'"
        (click)="setTab('appearance')"
      >
        <i class="bi bi-palette me-1"></i>Appearance
      </button>
    </li>
    <li class="nav-item">
      <button
        class="nav-link"
        [class.active]="activeTab() === 'registries'"
        (click)="setTab('registries')"
      >
        <i class="bi bi-globe me-1"></i>External Registries
      </button>
    </li>
    <li class="nav-item">
      <button
        class="nav-link"
        [class.active]="activeTab() === 'sync'"
        (click)="setTab('sync')"
      >
        <i class="bi bi-arrow-repeat me-1"></i>Sync
      </button>
    </li>
    <li class="nav-item">
      <button
        class="nav-link"
        [class.active]="activeTab() === 'advanced'"
        (click)="setTab('advanced')"
      >
        <i class="bi bi-sliders me-1"></i>Advanced
      </button>
    </li>
    <li class="nav-item">
      <button
        class="nav-link"
        [class.active]="activeTab() === 'account'"
        (click)="setTab('account')"
      >
        <i class="bi bi-person me-1"></i>Account
      </button>
    </li>
  </ul>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- TAB: Appearance                                                        -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  @if (activeTab() === "appearance") {
    <div class="card border-0 mb-3">
      <div class="card-header border-0">
        <h6 class="fw-semibold mb-0">
          <i class="bi bi-palette me-2"></i>Color Theme
        </h6>
      </div>
      <div class="card-body">
        <div class="d-flex gap-2">
          <button
            class="btn d-flex flex-column align-items-center gap-1 p-3"
            [class.btn-primary]="themeService.theme() === 'light'"
            [class.btn-outline-secondary]="themeService.theme() !== 'light'"
            (click)="themeService.setTheme('light')"
          >
            <i class="bi bi-sun-fill fs-4"></i>
            <span class="small">Light</span>
          </button>
          <button
            class="btn d-flex flex-column align-items-center gap-1 p-3"
            [class.btn-primary]="themeService.theme() === 'dark'"
            [class.btn-outline-secondary]="themeService.theme() !== 'dark'"
            (click)="themeService.setTheme('dark')"
          >
            <i class="bi bi-moon-fill fs-4"></i>
            <span class="small">Dark</span>
          </button>
          <button
            class="btn d-flex flex-column align-items-center gap-1 p-3"
            [class.btn-primary]="themeService.theme() === 'auto'"
            [class.btn-outline-secondary]="themeService.theme() !== 'auto'"
            (click)="themeService.setTheme('auto')"
          >
            <i class="bi bi-circle-half fs-4"></i>
            <span class="small">Auto</span>
          </button>
        </div>
      </div>
    </div>
  }

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- TAB: External Registries                                               -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  @if (activeTab() === "registries") {
    <div class="card border-0 mb-3">
      <div
        class="card-header border-0 d-flex align-items-center justify-content-between"
      >
        <div>
          <h6 class="fw-semibold mb-0">
            <i class="bi bi-globe me-2"></i>External Registries
          </h6>
          <div class="text-muted small mt-1">
            Saved registries used for push and sync operations.
          </div>
        </div>
        <button class="btn btn-sm btn-primary" (click)="openAddForm()">
          <i class="bi bi-plus-lg me-1"></i>Add registry
        </button>
      </div>
      <div class="card-body">
        <!-- Add / edit form -->
        @if (showAddForm()) {
          <div
            class="border border-primary-subtle rounded p-3 mb-3 bg-primary-subtle bg-opacity-10"
          >
            <h6 class="fw-semibold mb-3 text-primary">
              {{ editingId() ? "Edit registry" : "New external registry" }}
            </h6>
            <div class="row g-2 mb-2">
              <div class="col-md-6">
                <label class="form-label small fw-semibold">Display name</label>
                <input
                  type="text"
                  class="form-control form-control-sm"
                  placeholder="e.g. Docker Hub"
                  [value]="formName()"
                  (input)="formName.set($any($event.target).value)"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label small fw-semibold"
                  >Registry host</label
                >
                <input
                  type="text"
                  class="form-control form-control-sm"
                  placeholder="registry.example.com"
                  [value]="formHost()"
                  (input)="formHost.set($any($event.target).value)"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label small fw-semibold">Username</label>
                <input
                  type="text"
                  class="form-control form-control-sm"
                  [value]="formUser()"
                  (input)="formUser.set($any($event.target).value)"
                />
              </div>
              <div class="col-md-6">
                <label class="form-label small fw-semibold">
                  Password / token
                  @if (editingId()) {
                    <span class="text-muted fw-normal"
                      >(leave blank to keep current)</span
                    >
                  }
                </label>
                <input
                  type="password"
                  class="form-control form-control-sm"
                  [value]="formPass()"
                  (input)="formPass.set($any($event.target).value)"
                />
              </div>
            </div>

            <!-- Test result -->
            @if (testResult()) {
              <div
                class="alert py-2 small mb-2"
                [class.alert-success]="
                  testResult()!.reachable && testResult()!.auth_ok
                "
                [class.alert-warning]="
                  testResult()!.reachable && !testResult()!.auth_ok
                "
                [class.alert-danger]="!testResult()!.reachable"
              >
                <i
                  class="bi me-1"
                  [class.bi-check-circle]="testResult()!.reachable"
                  [class.bi-x-circle]="!testResult()!.reachable"
                ></i>
                {{ testResult()!.message }}
              </div>
            }

            <div class="d-flex gap-2">
              <button
                class="btn btn-sm btn-primary"
                (click)="saveRegistry()"
                [disabled]="savingRegistry()"
              >
                @if (savingRegistry()) {
                  <span class="spinner-border spinner-border-sm me-1"></span>
                }
                {{ editingId() ? "Update" : "Save" }}
              </button>
              <button
                class="btn btn-sm btn-outline-secondary"
                (click)="testNewConnection()"
                [disabled]="testingNew()"
              >
                @if (testingNew()) {
                  <span class="spinner-border spinner-border-sm me-1"></span>
                }
                <i class="bi bi-plug me-1"></i>Test connection
              </button>
              <button
                class="btn btn-sm btn-link text-muted ms-auto"
                (click)="cancelForm()"
              >
                Cancel
              </button>
            </div>
          </div>
        }

        <!-- Registry list -->
        @if (registries().length === 0 && !showAddForm()) {
          <div class="text-center py-4 text-muted">
            <i class="bi bi-globe display-5 d-block mb-3 opacity-25"></i>
            No external registries configured yet.
          </div>
        } @else {
          <div class="border rounded overflow-hidden">
            @for (reg of registries(); track reg.id) {
              <div
                class="d-flex align-items-center gap-3 px-3 py-2 border-bottom"
              >
                <div
                  class="rounded-2 bg-body-tertiary d-flex align-items-center justify-content-center"
                  style="
                    width: 38px;
                    height: 38px;
                    font-size: 18px;
                    flex-shrink: 0;
                  "
                >
                  @if (reg.host.includes("docker.io")) {
                    üê≥
                  } @else if (reg.host.includes("ghcr")) {
                    üêô
                  } @else {
                    üè¢
                  }
                </div>
                <div class="flex-grow-1 min-w-0">
                  <div class="fw-semibold small">{{ reg.name }}</div>
                  <div
                    class="text-muted font-monospace"
                    style="font-size: 0.72rem"
                  >
                    {{ reg.host }}
                    @if (reg.username) {
                      ¬∑ {{ reg.username }}
                    }
                  </div>
                </div>
                <div class="d-flex gap-1">
                  <button
                    class="btn btn-sm btn-outline-secondary"
                    (click)="openEditForm(reg)"
                    title="Edit"
                  >
                    <i class="bi bi-pencil"></i>
                  </button>
                  <button
                    class="btn btn-sm btn-outline-secondary"
                    (click)="testSavedRegistry(reg.id)"
                    [disabled]="testingRegistryId() === reg.id"
                    title="Test connection"
                  >
                    @if (testingRegistryId() === reg.id) {
                      <span class="spinner-border spinner-border-sm"></span>
                    } @else {
                      <i class="bi bi-plug"></i>
                    }
                  </button>
                  <button
                    class="btn btn-sm btn-outline-danger"
                    (click)="deleteRegistry(reg.id)"
                    title="Delete"
                  >
                    <i class="bi bi-trash"></i>
                  </button>
                </div>
              </div>
            }
          </div>
        }
      </div>
    </div>
  }

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- TAB: Sync                                                              -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  @if (activeTab() === "sync") {
    <!-- Sync form -->
    <div class="card border-0 mb-3">
      <div class="card-header border-0">
        <h6 class="fw-semibold mb-0">
          <i class="bi bi-arrow-repeat me-2"></i>New synchronisation
        </h6>
      </div>
      <div class="card-body">
        @if (registries().length === 0) {
          <div class="alert alert-warning small">
            <i class="bi bi-exclamation-triangle me-1"></i>
            No external registries configured.
            <button
              class="btn btn-link btn-sm p-0 ms-1"
              (click)="setTab('registries')"
            >
              Add one
            </button>
          </div>
        } @else {
          <div class="row g-3">
            <!-- Source -->
            <div class="col-md-6">
              <label class="form-label small fw-semibold"
                >Source (local image)</label
              >
              @if (loadingLocalImages()) {
                <div class="form-control form-control-sm placeholder-glow">
                  <span class="placeholder w-75"></span>
                </div>
              } @else {
                <select
                  class="form-select form-select-sm"
                  [value]="syncSource()"
                  (change)="syncSource.set($any($event.target).value)"
                >
                  <option value="(all)">(all images)</option>
                  @for (img of localImages(); track img) {
                    <option [value]="img">{{ img }}</option>
                  }
                </select>
              }
            </div>

            <!-- Destination registry -->
            <div class="col-md-6">
              <label class="form-label small fw-semibold"
                >Destination registry</label
              >
              <select
                class="form-select form-select-sm"
                [value]="syncDestId()"
                (change)="syncDestId.set($any($event.target).value)"
              >
                <option value="">‚Äî Select a registry ‚Äî</option>
                @for (reg of registries(); track reg.id) {
                  <option [value]="reg.id">
                    {{ reg.name }} ({{ reg.host }})
                  </option>
                }
              </select>
            </div>

            <!-- Folder prefix -->
            <div class="col-12">
              <label class="form-label small fw-semibold">
                Destination folder prefix
                <span class="text-muted fw-normal">(optional)</span>
              </label>
              <input
                type="text"
                class="form-control form-control-sm font-monospace"
                placeholder="e.g. prod/ or myorg/ ‚Äî leave empty to keep original path"
                [value]="syncFolder()"
                (input)="syncFolder.set($any($event.target).value)"
              />
              <!-- Preview line: uses getSyncDestHost() instead of find() lambda -->
              @if (syncDestId()) {
                <div class="text-muted mt-1" style="font-size: 0.72rem">
                  <i class="bi bi-arrow-right me-1"></i>
                  Preview:
                  <code>
                    {{ getSyncDestHost() }}/{{
                      syncFolder() ? syncFolder() + "/" : ""
                    }}{{ syncSource() === "(all)" ? "*" : syncSource() }}
                  </code>
                </div>
              }
            </div>
          </div>

          <div class="d-flex gap-2 mt-3">
            <button
              class="btn btn-sm btn-primary"
              (click)="startSync()"
              [disabled]="startingSync() || !syncDestId()"
            >
              @if (startingSync()) {
                <span class="spinner-border spinner-border-sm me-1"></span>
              } @else {
                <i class="bi bi-arrow-repeat me-1"></i>
              }
              Sync now
            </button>
          </div>
        }
      </div>
    </div>

    <!-- Sync job history -->
    <div class="card border-0">
      <div
        class="card-header border-0 d-flex align-items-center justify-content-between"
      >
        <h6 class="fw-semibold mb-0">
          <i class="bi bi-clock-history me-2"></i>Sync history
        </h6>
        <button
          class="btn btn-sm btn-outline-secondary"
          (click)="loadSyncData()"
          [disabled]="loadingSyncJobs()"
        >
          <i class="bi bi-arrow-clockwise"></i>
        </button>
      </div>
      <div class="card-body p-0">
        @if (loadingSyncJobs()) {
          <div class="d-flex justify-content-center py-4">
            <span class="spinner-border text-primary spinner-border-sm"></span>
          </div>
        } @else if (syncJobs().length === 0) {
          <div class="text-center py-4 text-muted small">No sync jobs yet.</div>
        } @else {
          <div class="list-group list-group-flush">
            @for (job of syncJobs(); track job.id) {
              <div class="list-group-item px-3 py-2">
                <div class="d-flex align-items-start gap-2">
                  <i class="bi mt-1" [class]="syncStatusIcon(job.status)"></i>
                  <div class="flex-grow-1 min-w-0">
                    <div class="d-flex flex-wrap align-items-center gap-1 mb-1">
                      <code class="small bg-body-tertiary px-1 rounded">{{
                        job.source
                      }}</code>
                      <i class="bi bi-arrow-right text-muted small"></i>
                      <!-- getRegistryHost() replaces the find() lambda -->
                      <code
                        class="small bg-body-tertiary px-1 rounded text-truncate"
                        style="max-width: 220px"
                      >
                        {{ getRegistryHost(job.dest_registry_id)
                        }}{{ job.dest_folder ? "/" + job.dest_folder : "" }}
                      </code>
                    </div>
                    <div class="d-flex align-items-center gap-2 flex-wrap">
                      <span [class]="syncStatusBadge(job.status)">{{
                        job.status
                      }}</span>
                      <span class="text-muted" style="font-size: 0.7rem">{{
                        job.started_at | slice: 0 : 16
                      }}</span>
                      @if (job.status === "running") {
                        <span class="text-muted small"
                          >{{ job.images_done }}/{{ job.images_total }}</span
                        >
                        <div
                          class="progress flex-grow-1"
                          style="height: 4px; max-width: 100px"
                        >
                          <div
                            class="progress-bar progress-bar-animated"
                            [style.width.%]="job.progress"
                          ></div>
                        </div>
                      }
                    </div>
                    @if (job.error) {
                      <div class="text-danger mt-1" style="font-size: 0.7rem">
                        <i class="bi bi-exclamation-circle me-1"></i
                        >{{ job.error }}
                      </div>
                    }
                    @if (job.status === "done") {
                      <div class="text-success mt-1" style="font-size: 0.7rem">
                        {{ job.message }}
                      </div>
                    }
                  </div>
                </div>
              </div>
            }
          </div>
        }
      </div>
    </div>
  }

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- TAB: Advanced                                                          -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  @if (activeTab() === "advanced") {
    <div class="card border-0 mb-3">
      <div class="card-header border-0">
        <h6 class="fw-semibold mb-0">
          <i class="bi bi-sliders me-2"></i>Advanced Mode
        </h6>
      </div>
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <div class="small fw-semibold">Enable Advanced Mode</div>
            <div class="text-muted" style="font-size: 0.8rem">
              Shows scan detail badges on pipeline jobs and other power-user
              features.
            </div>
          </div>
          <div class="form-check form-switch ms-4 flex-shrink-0">
            <input
              class="form-check-input"
              type="checkbox"
              id="advancedModeToggle"
              style="width: 2.5em; height: 1.3em"
              [checked]="configService.advancedMode()"
              (change)="
                configService.setAdvancedMode($any($event.target).checked)
              "
            />
          </div>
        </div>
      </div>
    </div>

    @if (configService.advancedMode()) {
      <app-vuln-config-panel />
    }
  }

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- TAB: Account                                                           -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  @if (activeTab() === "account") {
    <div class="card border-0 mb-3">
      <div class="card-header border-0">
        <h6 class="fw-semibold mb-0">
          <i class="bi bi-person me-2"></i>Account
        </h6>
      </div>
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between">
          <div>
            <div class="fw-semibold">
              {{ authService.currentUser()?.username }}
            </div>
            <div class="text-muted small">Administrator</div>
          </div>
          <button
            class="btn btn-outline-danger btn-sm"
            (click)="authService.logout()"
          >
            <i class="bi bi-box-arrow-right me-1"></i>Logout
          </button>
        </div>
      </div>
    </div>
  }
</div>
